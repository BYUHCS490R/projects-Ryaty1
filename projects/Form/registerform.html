<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Responsive Form</title>
    <link rel="stylesheet" href="registerform.css">
</head>
<body>
    <header>
        <h1>Coinbox Trading</h1>
    </header>
    
    <main>
        <h1 class="name">User Registration</h1>
        <form action="formprocess.html" method="post">
            <fieldset>
                <legend>Sign Up</legend>
                
                <div class="form-row">
                    <label for="fullname">Full Name</label>
                    <input type="text" name="fullname" id="fullname" placeholder="Full name" required>
                </div>

                <div class="form-row">
                    <label for="email">Email Address</label>
                    <input type="email" name="email" id="email" placeholder="you@example.com" required>
                </div>
                
                <div class="form-row">
                    <label for="phone">Phone Number</label>
                    <input type="tel" name="phone" id="phone" placeholder="808-555-0123" required>
                </div>
                
                <div class="form-row">
                    <label for="dob">Birth Date</label>
                    <input type="date" name="dob" id="dob">
                </div>
                
                <div class="form-row">
                    <label for="password">Password</label>
                    <input type="password" name="password" id="password" required>
                </div>
                
                <div class="form-row">
                    <label for="state">State</label>
                    <select name="state" id="state" required>
                        <option value="">--Select State--</option>
                        <option value="HI">Hawaii</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="UT">Utah</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <label>Gender</label>
                    <input type="radio" name="gender" value="male" id="male">
                    <label for="male" class="radio-label">Male</label>
                    <input type="radio" name="gender" value="female" id="female">
                    <label for="female" class="radio-label">Female</label>
                    <input type="radio" name="gender" value="other" id="other">
                    <label for="other" class="radio-label">Other</label>
                </div>
                
                <div class="form-row">
                    <label for="comments">Comments</label>
                    <textarea name="comments" id="comments" placeholder="Your comments"></textarea>
                </div>
                
                <div class="form-row checks-row">
                    <input type="checkbox" name="agree" id="agree" required>
                    <label for="agree" class="checkbox-label">I agree to the terms and conditions</label>
                </div>
                
                <div class="form-row">
                    <input type="submit" value="Sign Up">
                </div>
            </fieldset>
        </form>
    </main>
    
    <footer>
        <p>&copy; 2025 Coinbox</p>
    </footer>
    
    <script>
        const form = document.querySelector('form');

        form.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const formData = {
                fullname: document.getElementById('fullname').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                dob: document.getElementById('dob').value,
                password: document.getElementById('password').value,
                state: document.getElementById('state').value,
                gender: document.querySelector('input[name="gender"]:checked')?.value || '',
                comments: document.getElementById('comments').value,
                agree: document.getElementById('agree').checked
            };
            
            console.log('Form Data:', formData);
            
            if (!formData.fullname || !formData.email || !formData.password) {
                alert('Please fill in your full name, email, and password.');
                return;
            }
            
            if (formData.password.length < 6) {
                alert('Password must be at least 6 characters long.');
                return;
            }
            
            if (!formData.agree) {
                alert('You must agree to the terms and conditions.');
                return;
            }
            
            const xhr = new XMLHttpRequest();

            xhr.open('GET', 'submit.json', true);
            xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {

                    const response = JSON.parse(xhr.responseText);
                    
                    displaySuccessMessage(response.message);
                    
                    form.reset();
                    
                    console.log('Server Response:', response);
                } else if (xhr.readyState === 4) {
                    alert('Error submitting form. Please try again.');
                }
            };
            
            xhr.send();
        });

        function displaySuccessMessage(message) {
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                background-color: #4CAF50;
                color: white;
                padding: 20px;
                margin: 20px auto;
                border-radius: 8px;
                text-align: center;
                font-size: 1.2em;
                max-width: 500px;
            `;
            messageDiv.textContent = message;
            
            const main = document.querySelector('main');
            main.insertBefore(messageDiv, main.firstChild);
            
            form.style.display = 'none';
            
            setTimeout(() => {
                messageDiv.remove();
                form.style.display = 'flex';
            }, 5000);
        }
    </script>
</body>
</html>
